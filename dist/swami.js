define(["jquery","angular","es5-shim"],function(n,t){var e=["$http",function(e){function r(o){var a={},u={},l={},f={},c={model:Object,before:t.noop,success:t.noop,error:t.noop,"finally":t.noop};return c.http=function(a,u,l,f){u=u||{},f=f||o,n.extend(u,c.dataDefaults.apply(c,arguments)),c.before!=t.noop&&c.before.apply(c,arguments),r.before!=t.noop&&r.before.apply(c,arguments);var s=e[a](f,u);return s.result=l||{},t.forEach(["success","error","finally"],function(n){c[n]!=t.noop&&s[n](c[n]),r[n]!=t.noop&&s[n](r[n])}),s},c.all=function(t){return n.isEmptyObject(u)||t?f.all&&!t?f.all.result:(f.all=c.http("get",{},u),f.all.success(function(t){c.transformData(t,"all"),n.extend(f.all.result,t),u=f.all.result}),f.all.result):u},c.first=function(n){n=n||u;for(var t in n)return t},c.create=function(t,e){var r=new c.model;return n.extend(r,t),e&&(l[e]=r),r},c.find=function(n){return u[n]?u[n]:l[n]?l[n]:null},c.transformData=function(e){var r=Object.keys(a);t.forEach(e,function(e){t.forEach(e,function(e,o){-1!=n.inArray(o,r)&&t.forEach(e,function(n,t){e[t]=a[o][1].create(e[t],t)})})})},c.hasMany=function(n,t){a[n]=["hasMany",t]},c.save=function(n,t){return c.http("post",n,{},t)},c.dataDefaults=function(){return{_token:n("input[name=_token]").val()}},c}return r.before=function(){n("body").addClass("wait")},r.success=t.noop,r.error=t.noop,r["finally"]=function(){n("body").removeClass("wait")},r}];return t.module("Swami",[]).factory("Swami",e)});
/*
//@ sourceMappingURL=swami.js.map
*/
